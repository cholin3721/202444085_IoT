influxDB 
시계열 데이터 베이스 << 시간 순으로 흘러가는 변화하는 추이들을 살펴보기 위한 데이터들을 모아놓는 것이라 추정, 효과적으로 저장하고 관리하는데 최적화
tag 기반으로 데이터를 다루기 때문에 검색 속도가 빠르고, insert(삽입) 및 select(검색)이 빠르다.
timestamp(시간 정보)가 저장된다. 센서 데이터, 주식 가격, 서버 로그, 모니터링에 특화
sql같이 select * from tbl where (조건식) 지원

influxDB 주요 개념
Measurement >> 테이블이랑 비슷한 개념임
Tag : 빠른 검색을 위한 메타 데이터 ex) "device =arduino"
Field : 저장할 데이터의 값(의미가 있는 데이터) (temperature = 25.3)
timestamp : 데이터가 기록된 시간

mySQL과 비교하면 Mysql은 쇼핑몰이나 회원 가입, 학생 정보등을 저장하기 위한 데이터 베이스, influxDB는 주로 센서 데이터나 시간별로 변화하는 그런 센서 데이터나 주식가격등을
저장하기 적합하다.

CLI = Character Line Interface 명령행 기준으로
GUI grapic User Interface로 발전하기 전

리눅스는 탭 쓰는 것을 생활화 하여야 한다.

파워쉘 명령어 해석
Expand_Archive << 파워쉘 압축 푸는 명령어
.\influxdb2-2.7.11-windows.zip  << 이거를
-DestiantionPath 'C:\Program Files\InfluxData\' 여기에다 풀어라
mv : 이름 변경(move)
mv 'C:\Program Files\InfluxData\influxdb2-2.7.11' 'C:\Program Files\InfluxData\influxdb' 를 변경해라

cd -Path 'C:\Program Files\InfluxData\influxdb'  -> 이 주소로 현재 콘솔에서 관리할 폴더를 옮겨라
./influxd  -> 리눅스 명령어 ./ 는 실행을 의미, 즉 influxd.exe를 실행시키라는 것이다.

localhost -> 127.0.0.1과 비슷한 의미로 내가 지금 사용하고 있는 이 컴퓨터를 의미하는 주소
포트번호 8086 : 아마 influx DB를 사용할 포트 번호를 의미하는 듯 하다.

미세먼지 센서 GP2Y1010AUOF

교육용 미세먼지 측정 센서
대략적인 원리 : 센서 중앙 홀에 적외선을 쏘는 소자와 수신하는 소자를 배치, 미세먼지를 적외선이 만나면 투과하지 못하므로 투사한 양 대비 받지 못한 비율을 계산하는 원리

LED ON/OFF 총 10ms , 0.32ms on, 9.68ms off(주의! 이 센서는 off일때 LED 소자가 작동함)
on 한 이후 0.28 있다가 0.04동안 수신기 소자를 작동시키고 값을 read 한다.

아날로그 데이터 : 전압을 0 ~ 1023으로 표현
ex) 0~5V 값을 0 ~ 1023으로 표현
전압 V : 아날로그 핀 값 x 5.0 / 1023.0
influxD 설명
buckets : 테이블과 유사한 의미

파이썬에서 path 환경 변수에 추가한단 의미 : os에 우선적으로 등록을 하여 먼저 찾게 해서 실행시킨다. 그래서 pip3가 실행이 되는 것
python - script - pip3 가 있음

그라파나 : 데이터 베이스를 표현하는데 주력한 db 오픈소스, influx DB는 시계열 데이터를 빠르고 고속처리하기 위한 것으로 둘다 오픈 소스 지만 목적 자체가 다르다.

except Exception as E : print(E) << 디버깅 용 코드

influxdb 데이터 조회
dashboard -> bucket -> measurement -> field -> tag

chat gpt의 설명(센서 관련)
GP2Y1010AUOF 미세먼지 센서 설명
GP2Y1010AUOF는 센서 중앙에 있는 적외선 LED와 수신기를 사용하여 미세먼지의 농도를 측정하는 미세먼지 측정 센서입니다. 센서의 작동 원리는 적외선 빛을 미세먼지가 산란시키는 원리를 기반으로 합니다. 이 센서의 핵심적인 동작은 LED가 켜지고 꺼지는 과정과 관련이 있습니다.

LED의 On/Off 작동 방식
LED ON 상태:

센서의 LED가 ON(켜진 상태)일 때, 적외선 빛이 센서 중앙에 위치한 수신기로 쏘아집니다.
이때, 미세먼지가 적외선 빛을 산란시키고, 이 산란된 빛을 수신기에서 측정하여 미세먼지 농도를 계산합니다.
LED OFF 상태:

LED가 OFF(꺼진 상태)일 때는, 수신기가 미세먼지를 측정하는 역할을 계속 수행하지만, 이때 LED는 더 이상 빛을 발하지 않습니다.
이 과정에서 센서는 산란된 빛의 양을 측정하여 미세먼지 농도를 감지합니다.
동작 주기 (Timing)
센서의 동작 주기는 ON과 OFF 상태가 번갈아 가며 반복됩니다.

LED ON: 약 0.32ms 동안.
LED OFF: 약 9.68ms 동안.
이 주기 동안, LED가 켜지면 미세먼지의 양을 측정하고, LED가 꺼지면 수신기만 작동하여 추가적인 계산을 합니다.

이 과정에서 LED OFF일 때 미세먼지의 농도를 더 정확하게 측정하기 위한 짧은 수신기 작동 시간이 포함되어 있습니다.

센서 작동 원리
적외선 LED가 ON 상태일 때 적외선이 미세먼지와 만나면, 일부 빛은 산란되고, 나머지는 통과합니다.
산란된 빛은 센서의 수신기에 의해 감지되고, 이를 바탕으로 미세먼지의 농도를 계산합니다.
LED OFF 상태에서는 미세먼지의 농도를 정확히 측정하기 위해, 수신기는 산란된 빛의 양을 기록하여 데이터를 추출합니다.
데이터 출력
센서의 출력은 아날로그 신호로, 0~1023 사이의 값을 출력합니다.

이 값을 전압으로 변환하면, 미세먼지 농도에 따라 0V에서 5V 사이의 값을 얻을 수 있습니다.
예를 들어:

plaintext
복사
전압(V) = (아날로그 핀 값) × 5.0 / 1023.0
이렇게 계산된 전압 값이 센서의 출력으로 사용됩니다.

결론
LED ON 상태에서는 적외선이 미세먼지와 만나서 산란되고, LED OFF 상태에서는 수신기가 산란된 빛을 측정하여 미세먼지 농도를 계산합니다.
이 ON/OFF 주기는 센서의 정확한 미세먼지 농도 측정을 위해 매우 중요한 부분입니다.
센서가 ON/OFF를 반복하면서 각 단계에서 미세먼지를 감지하고, 그 결과를 출력하는 방식을 잘 이해하고 활용할 수 있습니다.
